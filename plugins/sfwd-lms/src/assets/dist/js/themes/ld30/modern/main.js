!function(){"use strict";class e{constructor(e){this.tablistNode=e,this.tabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]")),this.tabpanels=[],0!==this.tabs.length&&(this.firstTab=null,this.lastTab=null,this.tabs.forEach((e=>{const t=document.getElementById(e.getAttribute("aria-controls"));e.tabIndex=-1,e.setAttribute("aria-selected","false"),this.tabpanels.push(t),e.addEventListener("keydown",this.onKeydown.bind(this)),e.addEventListener("click",this.onClick.bind(this)),this.firstTab||(this.firstTab=e),this.lastTab=e})),this.setSelectedTab(this.firstTab))}setSelectedTab(e){this.tabs.forEach(((t,a)=>{e===t?(t.setAttribute("aria-selected","true"),t.removeAttribute("tabindex"),this.tabpanels[a].hidden=!1):(t.setAttribute("aria-selected","false"),t.tabIndex=-1,this.tabpanels[a].hidden=!0)}))}moveFocusToTab(e){e.focus()}moveFocusToPreviousTab(e){const t=this.tabs.indexOf(e);this.moveFocusToTab(this.tabs[0===t?this.tabs.length-1:t-1])}moveFocusToNextTab(e){const t=this.tabs.indexOf(e);this.moveFocusToTab(this.tabs[t===this.tabs.length-1?0:t+1])}onKeydown(e){const t=e.currentTarget;let a=!1;switch(e.key){case"ArrowLeft":this.moveFocusToPreviousTab(t),a=!0;break;case"ArrowRight":this.moveFocusToNextTab(t),a=!0;break;case"Home":this.moveFocusToTab(this.firstTab),a=!0;break;case"End":this.moveFocusToTab(this.lastTab),a=!0}a&&(e.stopPropagation(),e.preventDefault())}onClick(e){this.setSelectedTab(e.currentTarget)}}learndash.global=learndash.global||{},learndash.global.ajaxurl=learndash.global.ajaxurl||"";class t{constructor(e,t){this.container=e,this.paginationSelector=t}init(){this.container.addEventListener("click",(e=>this.paginationClicked(e)))}paginationClicked(e){const t=e.target.closest("BUTTON");if(!t||!t.closest(this.paginationSelector))return;e.preventDefault();const a=t.closest(this.paginationSelector),i={next:t.getAttribute("data-next"),previous:t.getAttribute("data-previous"),nonce:a.getAttribute("data-nonce"),pagination_source:a.getAttribute("data-pagination-source"),parent_id:a.getAttribute("data-parent-id"),paged:parseInt(a.getAttribute("data-paged"),10)};i.next?i.paged+=1:i.previous&&(i.paged-=1),this.getPage(i,a)}getPage(e,t){const a={action:"ld30_modern_course_accordion_"+e.pagination_source+"_pagination",nonce:e.nonce,parent_id:e.parent_id,paged:e.paged},i=new URL(learndash.global.ajaxurl);Object.entries(a).forEach((([e,t])=>i.searchParams.set(e,t))),fetch(i,{method:"GET"}).then((a=>{a.json().then((a=>{const i=a?.data?.html,n=a?.data?.header,s=t.closest('[data-ld-pagination-target="'+e.pagination_source+'"]'),r=this.container.querySelector("[data-accordion-header]");this.replaceElement(i,s),this.replaceElement(n,r),this.container.dispatchEvent(new CustomEvent("ldAccordionPaginationComplete",{bubbles:!0,cancelable:!0,type:"course"}))}))})).catch((e=>{console.error("Pagination error:",e)}))}replaceElement(e,t){if(e.length<=0)return;const a=document.createElement("div");a.innerHTML=e,t.replaceWith(a.firstElementChild)}}learndash.global=learndash.global||{},learndash.global.ajaxurl=learndash.global.ajaxurl||"";class a{constructor(e,t){this.container=e,this.paginationSelector=t}init(){this.container.addEventListener("click",(e=>this.paginationClicked(e)))}paginationClicked(e){const t=e.target.closest("BUTTON");if(!t||!t.closest(this.paginationSelector))return;e.preventDefault();const a=t.closest(this.paginationSelector),i={next:t.getAttribute("data-next"),previous:t.getAttribute("data-previous"),nonce:a.getAttribute("data-nonce"),pagination_source:a.getAttribute("data-pagination-source"),parent_id:a.getAttribute("data-parent-id"),paged:parseInt(a.getAttribute("data-paged"),10)};i.next?i.paged+=1:i.previous&&(i.paged-=1),this.getPage(i,a)}getPage(e,t){const a={action:"ld30_modern_lesson_accordion_"+e.pagination_source+"_pagination",nonce:e.nonce,parent_id:e.parent_id,paged:e.paged},i=new URL(learndash.global.ajaxurl);Object.entries(a).forEach((([e,t])=>i.searchParams.set(e,t))),fetch(i,{method:"GET"}).then((a=>{a.json().then((a=>{const i=a?.data?.html,n=a?.data?.header,s=t.closest('[data-ld-pagination-target="'+e.pagination_source+'"]'),r=this.container.querySelector("[data-accordion-header]");this.replaceElement(i,s),this.replaceElement(n,r),this.container.dispatchEvent(new CustomEvent("ldAccordionPaginationComplete",{bubbles:!0,cancelable:!0,type:"lesson"}))}))})).catch((e=>{console.error("Pagination error:",e)}))}replaceElement(e,t){if(e.length<=0)return;const a=document.createElement("div");a.innerHTML=e,t.replaceWith(a.firstElementChild)}}class i{constructor(e,t){this.container=e,this.selector=t,this.fileInput=this.container.querySelector(this.selector+"-file-input"),this.fileInputWrapper=this.container.querySelector(this.selector+"-file-input-wrapper"),this.fileLabel=this.container.querySelector(this.selector+"-file-label"),this.fileName=this.container.querySelector(this.selector+"-file-name"),this.submitButton=this.container.querySelector(this.selector+"-submit")}init(){this.setAccessibleFileLabel(),this.fileInput.addEventListener("change",this.onFileInputChange.bind(this)),this.fileInput.addEventListener("keydown",this.onKeyDown.bind(this)),this.container.addEventListener("submit",this.onFormSubmit.bind(this)),this.fileInputWrapper.addEventListener("dragenter",this.onDragOver.bind(this)),this.fileInputWrapper.addEventListener("dragleave",this.onDragLeave.bind(this)),this.fileInputWrapper.addEventListener("drop",this.onDragLeave.bind(this))}onFileInputChange(e){const t=e?.target?.files[0];this.fileName.dataset.ldFileNameDefault||(this.fileName.dataset.ldFileNameDefault=this.fileName.innerHTML),t?.name?(this.fileName.innerHTML=t.name+'<span class="screen-reader-text">.</span>',this.submitButton.removeAttribute("disabled")):(this.fileName.innerHTML=this.fileName.dataset.ldFileNameDefault,this.submitButton.setAttribute("disabled",!0)),this.setAccessibleFileLabel()}onKeyDown(e){"Delete"===e.key&&(this.fileInput.value="",this.fileInput.dispatchEvent(new Event("change")))}setAccessibleFileLabel(){const e=this.fileLabel.textContent.trim().replace(/\s+/g," ").replace(/\.$/,"")+".";this.fileLabel.setAttribute("aria-label",e)}onFormSubmit(){this.submitButton.setAttribute("disabled",!0)}onDragOver(){this.fileInputWrapper.classList.add(this.selector.replace(/^\./,"")+"-file-input-wrapper--drag-over")}onDragLeave(){this.fileInputWrapper.classList.remove(this.selector.replace(/^\./,"")+"-file-input-wrapper--drag-over")}}window.addEventListener("DOMContentLoaded",(()=>{var n;n=".ld-tab-bar__tabs",document.querySelectorAll(n).forEach((t=>new e(t))),((e,a)=>{document.querySelectorAll(e).forEach((e=>{new t(e,a).init()}))})(".ld-accordion--course",".ld-accordion--course [data-ld-pagination]"),((e,t)=>{document.querySelectorAll(e).forEach((e=>{new a(e,t).init()}))})(".ld-accordion--lesson",".ld-accordion--lesson [data-ld-pagination]"),(e=>{document.querySelectorAll(e).forEach((t=>{new i(t,e).init()}))})(".ld-assignments__upload-form")}))}();